(()=>{"use strict";class e{constructor(e,t){this._nickname=e,this._message=t}get nickname(){return this._nickname}get message(){return this._message}}const t=document.querySelector("form"),n=document.getElementById("nickname"),a=document.getElementById("message");t.addEventListener("submit",(async function(t){t.preventDefault();try{await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(new e(n.value,a.value))}),a.value=""}catch(e){console.error(e)}})),async function t(){try{let t=await fetch("/api/chat"),n=await t.json(),a="";for(let t=0;t<n.length;t++){let s=new e(n[t]._nickname,n[t]._message);a+=`${s.nickname}: ${s.message}\n`}document.querySelector("textarea").value=a}catch(e){console.error(e)}setTimeout(t,1e3)}()})();
//# sourceMappingURL=bundle.js.map